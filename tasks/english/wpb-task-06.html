<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Task 06</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/x-icon" href="/BIO-BTE-12-V-4//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="/BIO-BTE-12-V-4/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/BIO-BTE-12-V-4/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/BIO-BTE-12-V-4/content/fsdocs-tips.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/js/bulma-collapsible.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/css/bulma-collapsible.min.css">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="/BIO-BTE-12-V-4/">
                        <figure class="image is-128x128 container">
                            <img src="/BIO-BTE-12-V-4/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">BIO-BTE-12-V-4</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="field">
                            <div class="control has-icons-left has-icons-right searchbox" id="fsdocs-searchbox">
                                <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">
  Lecture material
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/lectures/hello-fsharp.html">
    WPB I - Hello F#
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/lectures/functions-and-data-types.html">
    WPB II - Functions and data types
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/lectures/control-flow.html">
    WPB III - Control flow
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/lectures/programming-with-functions.html">
    WPB IV - Programming with functions
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/lectures/programming-with-objects.html">
    WPB V - Programming with objects
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/lectures/designing-with-types.html">
    WPB VI - Designing with types
  </a>
</li>             
<li class="nav-header">
  Übungen(deutsch)
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/installationsanweisungen.html">
    Erste Schritte
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/wpb-task-01.html">
    &#220;bung 01
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/wpb-task-02.html">
    &#220;bung 02
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/wpb-task-03.html">
    &#220;bung 03
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/wpb-task-04.html">
    &#220;bung 04
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/wpb-task-05.html">
    &#220;bung 05
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/german/wpb-task-06.html">
    &#220;bung 06
  </a>
</li>             
<li class="nav-header">
  Tasks(english)
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/installation-instructions.html">
    Getting Started
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/wpb-task-01.html">
    Task 01
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/wpb-task-02.html">
    Task 02
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/wpb-task-03.html">
    Task 03
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/wpb-task-04.html">
    Task 04
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/wpb-task-05.html">
    Task 05
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/BIO-BTE-12-V-4/tasks/english/wpb-task-06.html">
    Task 06
  </a>
</li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    
<p><a href="https://mybinder.org/v2/gh/csbiology/BIO-BTE-12-V-4/gh-pages?filepath=tasks/english/wpb-task-06.ipynb"><img src="/BIO-BTE-12-V-4/img/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="/BIO-BTE-12-V-4/tasks/english/wpb-task-06.fsx"><img src="/BIO-BTE-12-V-4/img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="/BIO-BTE-12-V-4/tasks/english/wpb-task-06.ipynb"><img src="/BIO-BTE-12-V-4/img/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="Typen-gesteuertes-Design-Tic-Tac-Toe" class="anchor" href="#Typen-gesteuertes-Design-Tic-Tac-Toe">Typen-gesteuertes Design​ - Tic Tac Toe</a></h1>
<p><strong><em>Disclaimer 1</em></strong> we included some blueprints of types or values which we think you might need (e.g. ValidMoves or diagonals), do not forget to implement them yourself!</p>
<p><strong><em>Disclaimer 2</em></strong> This task is your chance to farm some points! We will evaluate it as a 'bonus'. You can only
collect additional points and thereby only raise the percentage of tasks solved correctly. Have fun!</p>
<h3><a name="Task-1-1" class="anchor" href="#Task-1-1">Task 1.1:</a></h3>
<p>This is a tic tac toe board:</p>
<pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">|-|</span><span class="id">X</span><span class="o">|-|</span>
    <span class="pn">|</span><span class="id">X</span><span class="pn">|</span><span class="id">O</span><span class="o">|-|</span>
    <span class="pn">|</span><span class="id">O</span><span class="o">|-|-|</span>
</code></pre>
<p>The board consists of 9 Cells.
Each cells can have one of three states:</p>
<p>i.   Empty</p>
<p>ii.  Occupied by player X</p>
<p>iii. Occupied by player Y.</p>
<p>Define a type abstracting the possible state of a cell.</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-1-2" class="anchor" href="#Task-1-2">Task 1.2</a></h3>
<p>The relative positions of a cell is important for the game. This means that we have to model the position of a cell.
Since the number of cells is finit (9) and the field is quadratic, we have a finit number of possible positions. Define
the types needed to specify the cellpositions as: HorizontalPosition * VerticalPosition</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-1-3" class="anchor" href="#Task-1-3">Task 1.3</a></h3>
<p>Given the state of a cell and its position we can describe it completely. Declare a record type which contains this information.</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-1-4" class="anchor" href="#Task-1-4">Task 1.4</a></h3>
<p>We can describe the state of the board if we know the state of each cell. Define a type to model the tic tac toe board</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-2-1" class="anchor" href="#Task-2-1">Task 2.1</a></h3>
<p>Now you should be equipped with all types to describe the board. Given a schematic representation of a possible
game:</p>
<pre class="fssnip highlighted"><code lang="fsharp">     <span class="id">want</span>                    <span class="o">|-|-|-|</span>                                               
     <span class="k">to</span>         <span class="o">----------&gt;</span>  <span class="o">|-|-|-|</span> <span class="k">and</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">list</span> <span class="k">of</span> <span class="id">possible</span> <span class="id">moves</span> <span class="pn">(</span><span class="k">or</span> <span class="id">empty</span> <span class="id">cells</span><span class="pn">)</span> <span class="id">OR</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Result</span> <span class="pn">(</span><span class="id">winner</span> <span class="id">X</span><span class="pn">,</span> <span class="id">winner</span> <span class="id">Y</span> <span class="k">or</span> <span class="id">draw</span><span class="pn">)</span>
     <span class="id">play</span>         <span class="id">action</span> <span class="id">A</span>   <span class="o">|-|-|-|</span>                                     
                                                <span class="pn">|</span>
                                                <span class="pn">|</span> <span class="id">action</span> <span class="id">B</span>  
                                                <span class="pn">|</span>
                                                <span class="id">v</span>
                             <span class="pn">|</span><span class="id">X</span><span class="o">|-|-|</span>                                               
                             <span class="o">|-|-|-|</span> <span class="k">and</span> <span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="id">list</span> <span class="k">of</span> <span class="id">possible</span> <span class="id">moves</span> <span class="pn">(</span><span class="k">or</span> <span class="id">empty</span> <span class="id">cells</span><span class="pn">)</span> <span class="id">OR</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">Result</span> <span class="pn">(</span><span class="id">winner</span> <span class="id">X</span><span class="pn">,</span> <span class="id">winner</span> <span class="id">Y</span> <span class="k">or</span> <span class="id">draw</span><span class="pn">)</span>                                                                
                             <span class="o">|-|-|-|</span>                                     
                                                <span class="pn">|</span>
                                                <span class="pn">|</span> <span class="id">action</span> <span class="id">C</span> 
                                                <span class="pn">|</span>
                                                <span class="id">v</span>  
                             <span class="pn">|</span><span class="id">X</span><span class="o">|-|-|</span>                                               
                             <span class="pn">|</span><span class="id">O</span><span class="o">|-|-|</span> <span class="k">and</span> <span onmouseout="hideTip(event, 'fs1', 5)" onmouseover="showTip(event, 'fs1', 5)" class="id">list</span> <span class="k">of</span> <span class="id">possible</span> <span class="id">moves</span> <span class="pn">(</span><span class="k">or</span> <span class="id">empty</span> <span class="id">cells</span><span class="pn">)</span> <span class="id">OR</span> <span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="id">Result</span> <span class="pn">(</span><span class="id">winner</span> <span class="id">X</span><span class="pn">,</span> <span class="id">winner</span> <span class="id">Y</span> <span class="k">or</span> <span class="id">draw</span><span class="pn">)</span>
                             <span class="o">|-|-|-|</span>                                     
                                                <span class="pn">|</span>
                                                <span class="pn">|</span> <span class="id">action</span> <span class="id">B</span> 
                                                <span class="pn">|</span>
                                                <span class="id">v</span>  
                             <span class="pn">|</span><span class="id">X</span><span class="o">|-|-|</span>                                               
                             <span class="pn">|</span><span class="id">O</span><span class="pn">|</span><span class="id">X</span><span class="o">|-|</span> <span class="k">and</span> <span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="id">list</span> <span class="k">of</span> <span class="id">possible</span> <span class="id">moves</span> <span class="pn">(</span><span class="k">or</span> <span class="id">empty</span> <span class="id">cells</span><span class="pn">)</span> <span class="id">OR</span> <span onmouseout="hideTip(event, 'fs2', 8)" onmouseover="showTip(event, 'fs2', 8)" class="id">Result</span> <span class="pn">(</span><span class="id">winner</span> <span class="id">X</span><span class="pn">,</span> <span class="id">winner</span> <span class="id">Y</span> <span class="k">or</span> <span class="id">draw</span><span class="pn">)</span>
                             <span class="o">|-|-|-|</span>                                     
</code></pre>
<p>Actions (moves) A, B and C either end the game (Winner X, Winner Y or draw), or result in an updated version of the board, a list of still empty cells
and the next actions. To model this we can use a Union case:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="id">ValidMoves</span> <span class="o">=</span> <span class="pn">{</span>
        <span class="id">Moves</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs3', 9)" onmouseover="showTip(event, 'fs3', 9)" class="id">List</span><span class="pn">&lt;</span><span class="id">CellPosition</span><span class="pn">&gt;</span>
    <span class="pn">}</span>

<span class="k">type</span> <span class="id">MoveResult</span> <span class="o">=</span> 
    <span class="pn">|</span> <span class="id">Win</span> <span class="k">of</span> <span class="id">Player</span>
    <span class="pn">|</span> <span class="id">Tie</span> 
    <span class="pn">|</span> <span class="id">Move</span> <span class="k">of</span> <span class="id">Player</span><span class="pn">*</span><span class="id">GameState</span><span class="pn">*</span><span class="id">ValidMoves</span>
</code></pre>
<p>Define actions A, B and C as types. Use the UnionCase MoveResult.</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-2-2" class="anchor" href="#Task-2-2">Task 2.2</a></h3>
<p>Implement a function that creates the board. The return value of the function
should be of type MoveResult. Player X should start the game.
Hint: Use lists of all horizontal and vertical positions.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">allHorizontal</span> <span class="o">=</span> <span class="pn">[</span><span class="id">Left</span><span class="pn">;</span><span class="id">Middle</span><span class="pn">;</span><span class="id">Right</span><span class="pn">]</span>
<span class="k">let</span> <span class="id">allVertical</span>   <span class="o">=</span> <span class="pn">[</span><span class="id">Top</span><span class="pn">;</span><span class="id">Center</span><span class="pn">;</span><span class="id">Bottom</span><span class="pn">]</span> 
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-2-3" class="anchor" href="#Task-2-3">Task 2.3</a></h3>
<p>Befor we implement the moves of player X and player Y, we try to anticipate what this function has to do.
The function will manipulate the game. Implement a funtion with a parameter of type Gamestate, a parameter of
type CellPosition and a Parameter of type Player. The return value equals the updated gamestate.</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-2-4" class="anchor" href="#Task-2-4">Task 2.4</a></h3>
<p>Of course, the function has to check if the game has been won by either party.
So we ask the question: how to prove this? The game is over, if one player occupies a column, row
or diagonal completely. Implement a funciton with parameter of type GameState and a parameter of type player.
The function should return true, if the player won the game.
Hint: Use the lists of all possible rows, columns and diagonals:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">rows</span> <span class="o">=</span>
    <span class="k">let</span> <span class="id">makeHLine</span> <span class="id">v</span> <span class="o">=</span> <span class="pn">[</span><span class="k">for</span> <span class="id">h</span> <span class="k">in</span> <span class="id">allHorizontal</span> <span class="k">do</span> <span class="k">yield</span> <span class="pn">(</span><span class="id">h</span><span class="pn">,</span><span class="id">v</span><span class="pn">)</span><span class="pn">]</span>
    <span class="k">let</span> <span class="id">rows</span> <span class="o">=</span> <span class="pn">[</span><span class="k">for</span> <span class="id">v</span> <span class="k">in</span> <span class="id">allVertical</span> <span class="k">do</span> <span class="k">yield</span> <span class="id">makeHLine</span> <span class="id">v</span><span class="pn">]</span> 
    <span class="id">rows</span>

<span class="k">let</span> <span class="id">columns</span> <span class="o">=</span>
    <span class="k">let</span> <span class="id">makeVLine</span> <span class="id">h</span> <span class="o">=</span> <span class="pn">[</span><span class="k">for</span> <span class="id">v</span> <span class="k">in</span> <span class="id">allVertical</span> <span class="k">do</span> <span class="k">yield</span> <span class="pn">(</span><span class="id">h</span><span class="pn">,</span><span class="id">v</span><span class="pn">)</span><span class="pn">]</span>
    <span class="k">let</span> <span class="id">columns</span> <span class="o">=</span> <span class="pn">[</span><span class="k">for</span> <span class="id">h</span> <span class="k">in</span> <span class="id">allHorizontal</span> <span class="k">do</span> <span class="k">yield</span> <span class="id">makeVLine</span> <span class="id">h</span><span class="pn">]</span> 
    <span class="id">columns</span>
 
<span class="k">let</span> <span class="id">diagonals</span> <span class="o">=</span>
    <span class="k">let</span> <span class="id">diagonal1</span> <span class="o">=</span> <span class="pn">[</span><span class="id">Left</span><span class="pn">,</span><span class="id">Top</span><span class="pn">;</span> <span class="id">Middle</span><span class="pn">,</span><span class="id">Center</span><span class="pn">;</span> <span class="id">Right</span><span class="pn">,</span><span class="id">Bottom</span><span class="pn">]</span>
    <span class="k">let</span> <span class="id">diagonal2</span> <span class="o">=</span> <span class="pn">[</span><span class="id">Left</span><span class="pn">,</span><span class="id">Bottom</span><span class="pn">;</span> <span class="id">Middle</span><span class="pn">,</span><span class="id">Center</span><span class="pn">;</span> <span class="id">Right</span><span class="pn">,</span><span class="id">Top</span><span class="pn">]</span>
    <span class="pn">[</span><span class="id">diagonal1</span><span class="pn">;</span><span class="id">diagonal2</span><span class="pn">]</span> 
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<h3><a name="Task-2-5" class="anchor" href="#Task-2-5">Task 2.5</a></h3>
<p>The game can end as a draw. This is always the case if no one won the game and all cells have a state different from empty.
Write a function that checks for a draw:</p>
<pre class="fssnip highlighted"><code lang="fsharp"></code></pre>
<p>.... With the abstraction done and all these functions at hand, we will finish the game together during the meeting...</p>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />module Result<br /><br />from Microsoft.FSharp.Core<br /><br />--------------------<br />[&lt;Struct&gt;]<br />type Result&lt;&#39;T,&#39;TError&gt; =<br />&#160;&#160;| Ok of ResultValue: &#39;T<br />&#160;&#160;| Error of ErrorValue: &#39;TError</div>
<div class="fsdocs-tip" id="fs3">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetReverseIndex : rank:int * offset:int -&gt; int<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;...</div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = '/BIO-BTE-12-V-4/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="/BIO-BTE-12-V-4/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>
<footer>
    <script>
        bulmaCollapsible.attach('.is-collapsible');
    </script>
</footer>
</html>